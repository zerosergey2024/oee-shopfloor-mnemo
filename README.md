OEE Shopfloor Mnemo

Демо-проект цифровой мнемосхемы производственного цеха с расчётом OEE, анализом остановок и масштабируемой архитектурой под разные уровни оснащения производства.

Проект реализован на Python + Streamlit и предназначен для:

презентаций,

пилотных внедрений,

обсуждения цифровизации цеха (MES / IoT / AI).

Ключевая идея проекта

Один репозиторий — один продукт

Версии фиксируются через git tags (эволюция интерфейса и логики)

Уровни оснащения выбираются через конфигурацию (источник и глубина данных)

UI и сценарии работы одинаковые, меняется только “глубина реальности”.

Версии проекта (git tags)
Версия	Описание
v1.0	Базовая мнемосхема (карточки оборудования)
v2.0	SVG-силуэты + цветовая индикация + tooltip
v3.0	Выбор станка + панель анализа (OEE, остановки)
v3.2	Профили данных BASIC / STANDARD / ADVANCED
Уровни оснащения производства

Уровень задаётся конфигурационным файлом и влияет на источник и детализацию данных.

BASIC — малые предприятия

Ручной ввод или CSV

OEE по смене

Крупные остановки без детализации

Минимальная инфраструктура

Типично: Excel, журналы, сменные рапорты

STANDARD — интеграция с MES

Данные из MES / производственной БД

OEE по времени (агрегация)

Структурированные причины остановок

Связь с заказами и сменами

Типично: Wonderware, Siemens Opcenter, самописная MES

ADVANCED — IoT + AI

События от PLC / SCADA / датчиков

Микростопы, деградация, тренды

Near-real-time OEE

Основа для предиктивной аналитики

Типично: OPC UA, MQTT, InfluxDB, ML-модели

Архитектура репозитория
oee-shopfloor-mnemo/
├─ app.py                # Streamlit UI (общий для всех уровней)
├─ config/               # Конфигурации уровней
│  ├─ basic.yaml
│  ├─ standard.yaml
│  └─ advanced.yaml
├─ src/
│  ├─ models.py          # Доменные модели
│  ├─ ui.py              # Мнемосхема и панели
│  ├─ data_mock.py       # Генератор демо-данных (по профилю)
│  ├─ providers/         # Источники данных
│  │  ├─ base.py
│  │  ├─ mock_basic.py
│  │  ├─ mes_standard_stub.py
│  │  └─ iot_advanced_stub.py
│  └─ config_loader.py
└─ assets/
   └─ silhouettes/       # SVG-силуэты оборудования

Запуск проекта
Установка
python -m venv .venv
source .venv/bin/activate        # Windows: .venv\Scripts\Activate.ps1
pip install -r requirements.txt

BASIC (по умолчанию)
streamlit run app.py

STANDARD
$env:OEE_CONFIG="config/standard.yaml"
streamlit run app.py

ADVANCED
$env:OEE_CONFIG="config/advanced.yaml"
streamlit run app.py

Что уже реализовано

Мнемосхема цеха с SVG-силуэтами

Цветовая индикация состояния оборудования

Tooltip с краткой информацией

Выбор станка

Панель анализа:

карточка состояния,

график OEE за смену,

список остановок

Архитектура под разные уровни оснащения

Что можно добавить дальше (потенциал развития)
1. Данные от датчиков и PLC

Вибрация, температура, токи

Состояния RUN / IDLE / DOWN в реальном времени

Интеграция через OPC UA / MQTT

2. Анализ ситуации

Декомпозиция потерь OEE

Анализ микростопов

Повторяющиеся причины отказов

Тренды деградации оборудования

3. Рекомендации и AI

Автоматические рекомендации RME:

остановить / продолжить,

выполнить ТО,

заказать запчасти

Оценка рисков отказа

Приоритизация работ ТО

4. Интеграция с 1С / ERP

Производственные задания

План-факт выпуска

Учет простоев

Расчёт потерь в деньгах

Формирование заявок на ТО

5. Планирование и диспетчеризация

Календарь ТО

Окна обслуживания

Конфликты с производственным планом

Что-если сценарии

Для кого этот проект

Руководители производства

Инженеры по надёжности (RME)

MES / IT-архитекторы

Команды цифровизации

Интеграторы и консалтинговые компании

Статус проекта

Проект является демонстрационным прототипом, но архитектура и подходы соответствуют промышленным решениям и могут быть использованы как основа для реального внедрения.

Лицензия

По необходимости (MIT / Proprietary / Internal Demo)

